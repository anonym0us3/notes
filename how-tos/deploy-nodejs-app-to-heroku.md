#Deploying your Node.js app to Heroku

##Introduction
This tutorial will have you deploying a Node.js app in minutes.
Hang on for a few more minutes to learn how it all works, so you can make the most out of Heroku.
The tutorial assumes that you have a free Heroku account, and that you have Node.js and npm installed.

##Set up
In this step you will install the Heroku Toolbelt. This provides you access to the Heroku Command Line Interface (CLI), which can be used for managing and scaling your applications and add-ons. A key part of the toolbelt is the `heroku local` command, which can help in running your applications locally.

**OSX users:**
<a href="https://toolbelt.heroku.com/download/osx">Click this link to download the ToolBelt for OSX</a>  Run the file and follow the prompts to install.

**Ubuntu users:** Run this command from your terminal:
```bash
wget -O- https://toolbelt.heroku.com/install-ubuntu.sh | sh
```

Once installed, you can use the heroku command from your command shell.
Log in using the email address and password you used when creating your Heroku account:

```bash
heroku login
# Enter your Heroku credentials.
# Email: zeke@example.com
# Password:
# ...
```

Authenticating is required to allow both the heroku and git commands to operate.

##Prepare the app
In this step, you will prepare a simple application that can be deployed.
Execute the following commands to clone the sample application:

```bash
git clone https://github.com/sf-wdi-25/express_self_api.git
cd express_self_api
```

You now have a functioning git repository that contains a simple application as well as a package.json file, which is used by Node’s dependency manager.  

***Make sure that you have all dependencies included at this point (express, mongodb, etc.)***

##Deploy the app
In this step you will deploy the app to Heroku.
Create an app on Heroku, which prepares Heroku to receive your source code.

```bash
heroku create
# Creating sharp-rain-871... done, stack is cedar-14
# http://sharp-rain-871.herokuapp.com/ | https://git.heroku.com/sharp-rain-871.git
# Git remote heroku added
```

When you create an app, a git remote (called heroku) is also created and associated with your local git repository.
Heroku generates a random name (in this case sharp-rain-871) for your app, or you can pass a parameter to specify your own app name.
Now deploy your code:

```bash
git push heroku master
# Counting objects: 343, done.
# Delta compression using up to 4 threads.
# Compressing objects: 100% (224/224), done.
# Total 250 (delta 63), reused 0 (delta 0)
# remote: Compressing source files... done.
# remote: Building source:
# remote:
# remote: -----> Node.js app detected
# remote:
# remote: -----> Creating runtime environment
# remote:
# remote:        NPM_CONFIG_LOGLEVEL=error
# remote:        NPM_CONFIG_PRODUCTION=true
# remote:        NODE_MODULES_CACHE=true
# remote:
# remote: -----> Installing binaries
# remote:        engines.node (package.json):  0.12.2
# remote:        engines.npm (package.json):   unspecified (use default)
# remote:
# remote:        Downloading and installing node 0.12.2...
# remote:        Using default npm version: 2.7.4
#        ....
# remote: -----> Build succeeded!
# remote:        ├── ejs@2.3.1
# remote:        └── express@4.9.8
# remote:
# remote: -----> Discovering process types
# remote:        Procfile declares types -> web
# remote:
# remote: -----> Compressing... done, 9.4MB
# remote: -----> Launching... done, v8
# remote:        http://sharp-rain-871.herokuapp.com deployed to Heroku
# To https://git.heroku.com/nameless-savannah-4829.git
# * [new branch]      master -> master
```

The application is now deployed. Ensure that at least one instance of the app is running:

```bash
heroku ps:scale web=1
```

Now visit the app at the URL generated by its app name. As a handy shortcut, you can open the website as follows:

```bash
heroku open
```
